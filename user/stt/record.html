<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- METADATA -->
		<meta charset="UTF-8">
		<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
		<meta content="" name="description">
		<meta content="" name="author">
		<meta name="keywords" content=""/>
		
        <!-- CSRF TOKEN -->
        <!-- <meta name="csrf-token" content="tTq7vc9L9F4o1csdNMYaIvOOkjs28aa5TSnGprAh"> -->

        <!-- TITLE -->
        <title>PallyBot</title>
        
        <!--Favicon -->
    
        <!--Favicon -->
        <link rel="icon" href="http://googlespeech.berkine.space/img/brand/favicon.ico" type="image/x-icon"/>

        <!-- Animate css -->
        <link href="http://googlespeech.berkine.space/css/animated.css" rel="stylesheet" />
        
        <!--Sidemenu css -->
        <link href="http://googlespeech.berkine.space/css/sidemenu.css" rel="stylesheet">
        
        <!-- P-scroll bar css-->
        <link href="http://googlespeech.berkine.space/plugins/p-scrollbar/p-scrollbar.css" rel="stylesheet" />
        
        <!---Icons css-->
        <link href="http://googlespeech.berkine.space/css/icons.css" rel="stylesheet" />
        
	        <!-- Data Table CSS -->
	        <link href="http://googlespeech.berkine.space/plugins/datatable/datatables.min.css" rel="stylesheet" />
        
        <!-- Style css -->
        <link href="http://googlespeech.berkine.space/css/app.css" rel="stylesheet" />
        
        <!-- Simplebar css -->
        <link href="http://googlespeech.berkine.space/plugins/simplebar/css/simplebar.css" rel="stylesheet">
        
        <!-- Color Skin CSS -->
        <link href="http://googlespeech.berkine.space/css/color.css" rel="stylesheet" />
        
	        
	        </head>
        
	        <body class="app sidebar-mini">
        
		        <!-- LOADER -->
		        <div id="global-loader" >
			        <img src="http://googlespeech.berkine.space/img/svgs/loader.gif" alt="loader">           
		        </div>
		        <!-- END LOADER -->
        
		        <!-- PAGE -->
		        <div class="page">
			        <div class="page-main">
        
				        <!-- SIDE MENU BAR -->
        <aside class="app-sidebar"> 
	  <div class="app-sidebar__logo">
	      <a class="header-brand" href="http://googlespeech.berkine.space">
		<img src="http://googlespeech.berkine.space/img/brand/logo.png" class="header-brand-img desktop-lgo" alt="Admintro logo">
		<img src="http://googlespeech.berkine.space/img/brand/favicon.png" class="header-brand-img mobile-logo" alt="Admintro logo">
	      </a>
	  </div>
	  <ul class="side-menu app-sidebar3">
			      <hr class="slide-divider d-none">
		    <li class="side-item side-item-category">User Panel</li>
	      <li class="slide">
		<a class="side-menu__item" href="http://googlespeech.berkine.space/user/stt/record">
		<span class="side-menu__icon fa fa-magic"></span>
		<span class="side-menu__label">Record &amp; Transcribe</span></a>
	      </li>
	      <li class="slide">
		<a class="side-menu__item" href="http://googlespeech.berkine.space/user/stt/file">
		<span class="side-menu__icon fa fa-magic"></span>
		<span class="side-menu__label">Upload &amp; Transcribe</span></a>
	      </li>
	      <li class="slide">
		<a class="side-menu__item" href="http://googlespeech.berkine.space/user/stt/results">
		<span class="side-menu__icon mdi mdi-audiobook"></span>
		<span class="side-menu__label">Transcribe Results</span></a>
	      </li>
	      <li class="slide">
		<a class="side-menu__item" href="http://googlespeech.berkine.space/user/project">
		<span class="side-menu__icon mdi mdi-archive"></span>
		<span class="side-menu__label">My Transcribe Projects</span></a>
	      </li>
	      <li class="slide">
		<a class="side-menu__item" data-toggle="slide" href="#">
		    <span class="side-menu__icon mdi mdi-account-settings-variant"></span>
		    <span class="side-menu__label">My Profile Settings</span><i class="angle fa fa-angle-right"></i>
		</a>
		<ul class="slide-menu">
		    <li><a href="http://googlespeech.berkine.space/user/profile" class="slide-item">My Profile</a></li>
		    <li><a href="http://googlespeech.berkine.space/user/profile/password" class="slide-item">Change Password</a></li>
		</ul>
	      </li>
				    <li class="slide">
		        <a class="side-menu__item" href="http://googlespeech.berkine.space/user/support">
			  <span class="side-menu__icon mdi mdi-account-alert"></span>
			  <span class="side-menu__label">Support Request</span>
		        </a>
		    </li>
		        
			      <li class="slide">
		        <a class="side-menu__item" href="http://googlespeech.berkine.space/user/notification">
			  <span class="side-menu__icon mdi mdi-upload-network"></span>
			  <span class="side-menu__label">Notifications</span>
				        
		        </a>
		    </li>
		 
			         
	  </ul>
	      <div class="aside-progress-position">
	      <div class="d-flex">
		<span class="fs-10 text-muted pl-5">Your Balance: <span class="balance-highlight">00:03:00</span></span>
	      </div>
	      <div class="progress h-15 mt-1 aside-progress">
		<div class="progress-bar progress-bar-striped progress-bar-animated bg-info" style="width: 0%" role="progressbar" aria-valuenow="3.000" aria-valuemin="0" aria-valuemax=""></div>
	      </div>
	  </div>
	      <div class="text-center">
	      <a href="https://1.envato.market/za50G7" class="btn btn-cancel mb-5 pl-6 pr-6">Buy Now</a>
	  </div>
        </aside>
        <!-- END SIDE MENU BAR -->
				        <!-- APP CONTENT -->			
				        <div class="app-content main-content">
        
					        <div class="side-app">
        
						        <!-- TOP MENU BAR -->
        <div class="app-header header">
	  <div class="container-fluid"> 
	      <div class="d-flex">
		<a class="header-brand" href="http://googlespeech.berkine.space">
		    <img src="http://googlespeech.berkine.space/img/brand/logo.png" class="header-brand-img desktop-lgo" alt="Polly logo">
		    <img src="http://googlespeech.berkine.space/img/brand/favicon.png" class="header-brand-img mobile-logo" alt="Polly logo">
		</a>
		<div class="app-sidebar__toggle nav-link icon" data-toggle="sidebar">
		    <a class="open-toggle" href="#">
		        <span class="fa fa-align-left header-icon"></span>
		    </a>
		</div>
		<!-- SEARCH BAR -->
		<div id="search-bar">                
		    <div>
		        <a class="nav-link icon">
			  <form id="search-field" action="http://googlespeech.berkine.space/user/search" method="POST" enctype="multipart/form-data">         
			      <input type="hidden" name="_token" value="tTq7vc9L9F4o1csdNMYaIvOOkjs28aa5TSnGprAh">                   
			      <input type="search" name='keyword'>
			  </form>                        
		        </a>
		    </div>                
		</div>
		<!-- END SEARCH BAR -->
		<!-- MENU BAR -->
		<div class="d-flex order-lg-2 ml-auto"> 
		    <div class="dropdown header-notify">
		        <a class="nav-link icon" data-toggle="dropdown">                        
										        <span class="header-icon fa fa-bell-o pr-3"></span>
			      
						        
							      </a>
		        <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow  animated">
															  <div class="view-all-button text-center">
				        <h6 class=" fs-12 font-weight-bold mb-1">There are no new notifications</h6>                                    
				    </div>
											      
		        </div>
		    </div>
		    <div class="dropdown header-expand" >
		        <a  class="nav-link icon" id="fullscreen-button">
			  <span class="header-icon  mdi mdi-arrow-expand-all" id="fullscreen-icon"></span>
		        </a>
		    </div>
		    <div class="dropdown header-locale">
		        <a class="nav-link icon" data-toggle="dropdown">
			  <span class="header-icon fa fa-globe pr-1"></span><span class="text-brown fs-12 pr-5">EN</span>
		        </a>
		        <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow animated">
			  <div class="local-menu">
																    <a href="http://googlespeech.berkine.space/locale/es" class="dropdown-item d-flex pl-4">
				        <div class="text-info"><i class="flag flag-es mr-4"></i></div>
				        <div>
					  <span class="font-weight-normal fs-12">Español</span>
				        </div>
				    </a>                                        
													      <a href="http://googlespeech.berkine.space/locale/fr" class="dropdown-item d-flex pl-4">
				        <div class="text-info"><i class="flag flag-fr mr-4"></i></div>
				        <div>
					  <span class="font-weight-normal fs-12">Français</span>
				        </div>
				    </a>                                        
									  </div>
		        </div>
		    </div>                
		    <div class="dropdown profile-dropdown">
		        <a href="http://googlespeech.berkine.space/#" class="nav-link" data-toggle="dropdown">
			  <span class="float-right">
			      <img src=" http://googlespeech.berkine.space/img/users/avatar.jpg " alt="img" class="avatar avatar-md">
			  </span>
		        </a>
		        <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow animated">
			  <div class="text-center">
			      <span class="dropdown-item text-center user fs-12 pb-0 font-weight-bold">Taiwo Omotoso</span>
			      <span class="text-center fs-12 text-muted">Happy Person</span>
			      <div class="dropdown-divider"></div>
			  </div>
			  <a class="dropdown-item d-flex" href="http://googlespeech.berkine.space/user/stt/results">
			      <span class="profile-icon mdi mdi-audiobook"></span>
			      <div class="fs-12">Transcribe Results</div>
			  </a>
			  <a class="dropdown-item d-flex" href="http://googlespeech.berkine.space/user/profile">
			      <span class="profile-icon mdi mdi-account-edit"></span>
			      <div class="fs-12">Profile</div>
			  </a>
			  <a class="dropdown-item d-flex" href="http://googlespeech.berkine.space/user/profile/password">
			      <span class="profile-icon mdi mdi-account-key"></span>
			      <div class="fs-12">Change Password</div>
			  </a>
			  <a class="dropdown-item d-flex" href="http://googlespeech.berkine.space/logout" onclick="event.preventDefault();
			      document.getElementById('logout-form').submit();"> 
			      <span class="profile-icon mdi mdi-upload-network"></span>          
			      <div class="fs-12">Logout</div>                            
			  </a>
			  <form id="logout-form" action="http://googlespeech.berkine.space/logout" method="POST" class="d-none">
			      <input type="hidden" name="_token" value="tTq7vc9L9F4o1csdNMYaIvOOkjs28aa5TSnGprAh">                        </form>
		        </div>
		    </div>
		</div>
		<!-- END MENU BAR -->
	      </div>
	  </div>
        </div>
<!-- END TOP MENU BAR -->

                        
						<!-- PAGE HEADER -->
<div class="page-header mt-5-7">
	<div class="page-leftheader">
		<h4 class="page-title mb-0">Record &amp; Transcribe</h4>
		<ol class="breadcrumb mb-2">
			<li class="breadcrumb-item"><a href="http://googlespeech.berkine.space/user/stt/file"><i class="fa fa-magic mr-2 fs-12"></i>User</a></li>
			<li class="breadcrumb-item" aria-current="page"><a href="#"> Speech-to-Text</a></li>
			<li class="breadcrumb-item active" aria-current="page"><a href="#"> Record &amp; Transcribe</a></li>
		</ol>
	</div>
</div>
<!-- END PAGE HEADER -->

							<div class="row">
                                                                                <iframe src="../../pally/index.html" title="description" width="900" height="400" style="padding: 0; outline: none; border: none;">


                                                                                          
                                                                                </iframe>
	
	
		
	</div>


	<!-- MODAL -->
	<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-md" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="myModalLabel"><i class="mdi mdi-alert-circle-outline color-red"></i> Confirm Result Deletion</h4>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="deleteModalBody">
					<div>
						<!-- DELETE CONFIRMATION -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- END MODAL -->

	<!-- NOTIFICATION MODAL -->
	<div class="modal fade" id="notificationModal" tabindex="-1" role="dialog" aria-labelledby="notificationModalLabel" aria-hidden="true" data-keyboard="false">
		<div class="modal-dialog modal-dialog-centered modal-md" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="myModalLabel"><i class="fa fa-exclamation-circle color-red"></i> Speech-to-Text Notification</h4>
					<button type="button" class="close" data-dismiss="modal" id="modal-close" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body pb-4 pl-6">        
					<span id="notificationMessage" class="fs-13"></span>
				</div>
				<div class="modal-footer pr-6">
					<button type="button" class="btn btn-cancel mb-5" data-dismiss="modal" id="listen-close">Close</button>
				</div>				
			</div>
		</div>
	</div>
	<!-- END NOTIFICATION MODAL -->

	<!-- CREATE PROJECT MODAL -->
	<div class="modal fade" id="projectModal" tabindex="-1" role="dialog" aria-labelledby="projectModalLabel" aria-hidden="true" data-keyboard="false">
		<div class="modal-dialog modal-dialog-centered modal-md" role="document">
			<div class="modal-content">
				<div class="modal-header mb-1">
					<h4 class="modal-title" id="myModalLabel"><i class="mdi mdi-animation"></i> Create New Project</h4>
					<button type="button" class="close" data-dismiss="modal" id="modal-close" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<form id="create-new-project" action="http://googlespeech.berkine.space/user/project" method="POST" enctype="multipart/form-data">
					<input type="hidden" name="_token" value="tTq7vc9L9F4o1csdNMYaIvOOkjs28aa5TSnGprAh">					<div class="modal-body pb-0 pl-6 pr-6">        
						<div class="input-box" id="textarea-box">
							<input type="text" class="form-control" name="new-project" id="new-project" required>
							<label class="input-label">
								<span class="input-label-content custom-content">Project Name (Required)</span>
							</label>
						</div>
					</div>
					<div class="modal-footer pr-6 pb-3">
						<button type="button" class="btn btn-cancel mb-4" data-dismiss="modal" id="listen-close">Cancel</button>
						<button type="submit" class="btn btn-primary mb-4" id="new-project-button">Create</button>
					</div>
				</form>				
			</div>
		</div>
	</div>
	<!-- END CREATE PROJECT MODAL -->
</div>
						

                    </div>                   
                </div>
                <!-- END APP CONTENT -->

                <!-- FOOTER -->
<footer class="footer">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-12 col-sm-12 text-center">
                Copyright © 2024 <a href="https://googlespeech.berkine.space/">GoogleSpeech</a>. All rights reserved
            </div>
            <div class="col-md-12 col-sm-12 text-center">
                <span class="fs-10 font-weight-bold text-info">v1.0.0</span>
            </div>
        </div>
    </div>
</footer>
<!-- END FOOTER -->
                

            </div>		
        </div><!-- END PAGE -->
        
		<!-- Back to top -->
<a href="#top" id="back-to-top"><i class="fa fa-angle-double-up"></i></a>

<!-- Jquery js-->
<script src="http://googlespeech.berkine.space/js/jquery-3.6.0.min.js"></script>

<!-- Bootstrap4 js-->
<script src="http://googlespeech.berkine.space/plugins/bootstrap/popper.min.js"></script>
<script src="http://googlespeech.berkine.space/plugins/bootstrap/js/bootstrap.min.js"></script>

<!--Sidemenu js-->
<script src="http://googlespeech.berkine.space/plugins/sidemenu/sidemenu.js"></script>

<!-- P-scroll js-->
<script src="http://googlespeech.berkine.space/plugins/p-scrollbar/p-scrollbar.js"></script>
<script src="http://googlespeech.berkine.space/plugins/p-scrollbar/p-scroll.js"></script>

	<!-- Green Audio Players JS -->
	<script src="http://googlespeech.berkine.space/plugins/audio-player/green-audio-player.js"></script>
	<script src="http://googlespeech.berkine.space/js/audio-player.js"></script>
	<!-- Flipclock JS -->
	<script src=http://googlespeech.berkine.space/plugins/flipclock/moment.min.js></script>
	<script src=http://googlespeech.berkine.space/plugins/flipclock/popper.min.js></script>
	<script src=http://googlespeech.berkine.space/plugins/flipclock/flipclock.min.js></script>
	<script src=http://googlespeech.berkine.space/plugins/flipclock/recorder.js></script>
	<!-- Data Tables JS -->
	<script src="http://googlespeech.berkine.space/plugins/datatable/datatables.min.js"></script>
	<script src="http://googlespeech.berkine.space/js/results.js"></script>
	<!-- Awselect JS -->
	<script src="http://googlespeech.berkine.space/plugins/awselect/awselect-custom.js"></script>
	<script src="http://googlespeech.berkine.space/js/dashboard.js"></script>
	<script src="http://googlespeech.berkine.space/js/transcribe-record.js"></script>
	<script type="text/javascript">
		$(function () {

			"use strict";
			var k = 11;
			function format(d) {
				// `d` is the original data object for the row
				return '<div class="slider">'+
							'<table class="details-table">'+
								'<tr>'+
									'<td class="details-title" width="10%">Project Name:</td>'+
									'<td>'+ ((d.project == null) ? '' : d.project) +'</td>'+
								'</tr>'+
								'<tr>'+
									'<td class="details-title" width="10%">Task Type:</td>'+
									'<td>'+ ((d.type == null) ? '' : d.type) +'</td>'+
								'</tr>'+
								'<tr>'+
									'<td class="details-title" width="10%">Transcript:</td>'+
									'<td>'+ ((d.text == null) ? '' : d.text) +'</td>'+
								'</tr>'+
								'<tr>'+
									'<td class="details-result" width="10%">Audio File:</td>'+
									'<td><audio controls preload="none">' +
										'<source src="'+ d.result +'" type="'+ d.audio_type +'">' +
									'</audio></td>'+
								'</tr>'+
							'</table>'+
						'</div>';
			}

			// INITILIZE DATATABLE	
			var table = $('#resultTable').DataTable({
				"lengthMenu": [[25, 50, 100, -1], [25, 50, 100, "All"]],
				responsive: {
					details: {type: 'column'}
				},
				colReorder: true,
				language: {
					"emptyTable": "<div><img id='no-results-img' src='http://googlespeech.berkine.space/img/files/no-result.png'><br>No transcribe tasks submitted yet</div>",
					search: "<i class='fa fa-search search-icon'></i>",
					lengthMenu: '_MENU_ ',
					paginate : {
						first    : '<i class="fa fa-angle-double-left"></i>',
						last     : '<i class="fa fa-angle-double-right"></i>',
						previous : '<i class="fa fa-angle-left"></i>',
						next     : '<i class="fa fa-angle-right"></i>'
					}
				},
				pagingType : 'full_numbers',
				processing: true,
				serverSide: true,
				ajax: "http://googlespeech.berkine.space/user/stt/record",
				columns: [{
						"className":      'details-control',
						"orderable":      false,
						"searchable":     false,
						"data":           null,
						"defaultContent": ''
					},
					{
						data: 'created-on',
						name: 'created-on',
						orderable: true,
						searchable: true
					},						
					{
						data: 'task_id',
						name: 'task_id',
						orderable: true,
						searchable: true
					},											
					{
						data: 'custom-language',
						name: 'custom-language',
						orderable: true,
						searchable: true
					},
					{
						data: 'custom-status',
						name: 'custom-status',
						orderable: true,
						searchable: true
					},	
					{
						data: 'single',
						name: 'single',
						orderable: true,
						searchable: true
					},				
					{
						data: 'download',
						name: 'download',
						orderable: true,
						searchable: true
					},
					{
						data: 'custom-length',
						name: 'custom-length',
						orderable: true,
						searchable: true
					},	
					{
						data: 'format',
						name: 'format',
						orderable: true,
						searchable: true
					},				
					{
						data: 'actions',
						name: 'actions',
						orderable: false,
						searchable: false
					},
				]
			});
						

			$('#resultTable tbody').on('click', 'td.details-control', function () {
				var tr = $(this).closest('tr');
				var row = table.row( tr );
		
				if ( row.child.isShown() ) {
					// This row is already open - close it
					$('div.slider', row.child()).slideUp( function () {
						row.child.hide();
						tr.removeClass('shown');
					} );
				}
				else {
					// Open this row
					row.child( format(row.data()), 'no-padding' ).show();
					tr.addClass('shown');
		
					$('div.slider', row.child()).slideDown();
				}
			});

			
			$('#refresh-button').on('click', function(e){
				e.preventDefault();
				$("#resultTable").DataTable().ajax.reload();
			});


			$('#add-project').on('click', function() {
				$('#projectModal').modal('show');
			});

			
			// DELETE CONFIRMATION MODAL
			$(document).on('click', '#deleteResultButton', function(event) {
				event.preventDefault();
				let href = $(this).attr('href');
				$.ajax({
					url: href
					, beforeSend: function() {
						$('#loader').show();
					},
					// return the result
					success: function(result) {
						$('#deleteModal').modal("show");
						$('#deleteModalBody').html(result).show();
					}
					, error: function(jqXHR, testStatus, error) {
						console.log(error);
						alert("Page " + href + " cannot open. Error:" + error);
						$('#loader').hide();
					}
					, timeout: 8000
				})
			});
		

		});		
	</script>

<!-- Simplebar JS -->
<script src="http://googlespeech.berkine.space/plugins/simplebar/js/simplebar.min.js"></script>

<!-- Flash JS -->
<script src="http://googlespeech.berkine.space/plugins/flashjs/dist/flash.min.js"></script>

<!-- Custom js-->
<script src="http://googlespeech.berkine.space/js/custom.js"></script>

<!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148887469-1"></script>
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-148887469-1');
    </script>

<!-- Mark as Read JS-->
<script type="text/javascript">

    function sendMarkRequest(id = null) {
        return $.ajax("http://googlespeech.berkine.space/user/notifications/mark-as-read", {
            method: 'POST',
            data: {"_token": "tTq7vc9L9F4o1csdNMYaIvOOkjs28aa5TSnGprAh", id}
        });
    }

    var totalNotifications;
    var totalNotifications_a;
    var totalNotifications_b;

    $(function() {     

        $('.mark-as-read').click(function() {
            let request = sendMarkRequest($(this).data('id'));
            request.done(() => {
                $(this).parents('div.dropdown-item').remove();
            });

            document.getElementById("total-notifications").innerHTML = --totalNotifications;
            document.getElementById("total-notifications-a").innerHTML = --totalNotifications_a;
            document.getElementById("total-notifications-b").innerHTML = --totalNotifications_b;
        });
        $('#mark-all').click(function() {
            let request = sendMarkRequest();
            request.done(() => {
                $('div.notify-menu').remove();
            })

            document.getElementById("total-notifications").innerHTML = 0;
        });
    });        

    $(document).ready(function(){
       
        if (document.getElementById("total-notifications")) {
            totalNotifications = "0";
            document.getElementById("total-notifications").innerHTML = totalNotifications;
        }  
        if (document.getElementById("total-notifications-a")) {
            totalNotifications_a = "0";
            document.getElementById("total-notifications-a").innerHTML = totalNotifications_a;
        }
        if (document.getElementById("total-notifications-b")) {
            totalNotifications_b = "0";
            document.getElementById("total-notifications-b").innerHTML = totalNotifications_b;
        }                  
        
    });

</script>        

	</body>
</html>


